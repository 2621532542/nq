import{_ as a,u as s,h as l,g as e}from"./index.y6HLDFeu.js";import{c as i,b as t,l as n,e as r,f as c,t as d,n as v,F as u,m as o,u as p}from"./vendor.G8ViXyKc.js";const m={key:0,class:"magic-window"},g={class:"magic-header"},y={class:"magic-content"},k={key:0,class:"analysis-section"},b={key:0,class:"info-badge"},f={class:"analysis-section"},w={key:0,class:"structure-info"},h={class:"info-row"},C={class:"value highlight"},P={class:"info-row"},D={class:"value"},_={class:"info-row"},j={class:"value"},x={class:"info-row"},B={class:"value"},E={class:"info-row total"},$={key:1,class:"empty-hint"},A={key:1,class:"analysis-section"},F={class:"reduce-advice"},H={class:"advice-text"},I={key:0,class:"worst-partner-section"},M={class:"partner-tiles"},R=["src"],q={class:"partner-type"},z={key:1,class:"discard-advice"},G={class:"advice-row"},J=["src"],K={class:"tile-name"},L={class:"advice-row"},N=["src"],O={class:"tile-name"},Q={key:2,class:"details-section"},S={class:"details-content"},T={key:0},U={class:"detail-items"},V={key:1},W={class:"detail-items"},X={key:2},Y={class:"detail-items"},Z={key:3},aa={class:"detail-items"},sa=a({__name:"MagicAnalysis",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(a){const{currentHand:sa}=s(),la=i(()=>sa.value&&0!==sa.value.length?l(sa.value):null),ea=i(()=>{var a;if(!(null==(a=la.value)?void 0:a.worstPartnerCards)||la.value.worstPartnerCards.length<2)return null;const[s,l]=la.value.worstPartnerCards,e=a=>{const s=a%10;return s>=4&&s<=6?10:3===s||7===s?8:2===s||8===s?5:3},i=e(s),t=e(l);return{discardCard:i<=t?s:l,keepCard:i<=t?l:s}});function ia(a){return a<=9?a+"ä¸‡":a<=19?a-10+"ç­’":a<=29?a-20+"æ¡":31===a?"ä¸œ":32===a?"å—":33===a?"è¥¿":34===a?"åŒ—":35===a?"ä¸­":36===a?"å‘":37===a?"ç™½":a}function ta(a){return a.map(ia).join("")}return(s,l)=>{var i,sa;return a.visible?(r(),t("div",m,[c("div",g,[l[1]||(l[1]=c("h3",null,"âœ¨ ç¥žå¥‡åˆ†æž",-1)),c("button",{class:"close-btn",onClick:l[0]||(l[0]=a=>s.$emit("close"))},"Ã—")]),c("div",y,[la.value?(r(),t("div",k,[14!==la.value.originalCount?(r(),t("div",b,d(la.value.originalCount<14?`å·²è¡¥è¶³ ${14-la.value.originalCount} å¼ é£Žç‰Œ`:"å·²æˆªæ–­è‡³14å¼ "),1)):n("",!0)])):n("",!0),c("div",f,[l[7]||(l[7]=c("h4",null,"ðŸ“Š æ‰‹ç‰Œç»“æž„",-1)),la.value?(r(),t("div",w,[c("div",h,[l[2]||(l[2]=c("span",{class:"label"},"æˆç‰Œï¼ˆåˆ»/é¡ºï¼‰:",-1)),c("span",C,d(la.value.melds)+"ä¸ª",1)]),c("div",P,[l[3]||(l[3]=c("span",{class:"label"},"å¯¹å­:",-1)),c("span",D,d(la.value.pairs)+"ä¸ª",1)]),c("div",_,[l[4]||(l[4]=c("span",{class:"label"},"æ­å­:",-1)),c("span",j,d(la.value.partners)+"ä¸ª",1)]),c("div",x,[l[5]||(l[5]=c("span",{class:"label"},"å­¤å¼ :",-1)),c("span",B,d(la.value.singles)+"ä¸ª",1)]),c("div",E,[l[6]||(l[6]=c("span",{class:"label"},"æ€»æ­å­æ•°:",-1)),c("span",{class:v(["value",la.value.totalPartners>=6?"warning":""])},d(la.value.totalPartners)+"æ­ ",3)])])):(r(),t("div",$," è¯·å…ˆè¾“å…¥æ‰‹ç‰Œ "))]),la.value&&la.value.shouldReducePartner?(r(),t("div",A,[l[11]||(l[11]=c("h4",null,"âš ï¸ 6æ­å˜5æ­å»ºè®®",-1)),c("div",F,[c("div",H," æ­å­è¿‡å¤š("+d(la.value.totalPartners)+"æ­)ï¼Œå»ºè®®æ‹†æ­ ",1),la.value.worstPartnerCards?(r(),t("div",I,[l[8]||(l[8]=c("div",{class:"section-label"},"æœ€å·®æ­å­:",-1)),c("div",M,[(r(!0),t(u,null,o(la.value.worstPartnerCards,a=>(r(),t("img",{key:a,src:p(e)(a),class:"tile-img"},null,8,R))),128)),c("span",q,d((sa=null==(i=la.value.worstPartner)?void 0:i.subtype,{"two-sided":"ä¸¤é¢",edge:"è¾¹å¼ ",kanchan:"åŽå¼ "}[sa]||sa)),1)])])):n("",!0),ea.value?(r(),t("div",z,[c("div",G,[l[9]||(l[9]=c("span",{class:"action-label discard"},"æ‰“",-1)),c("img",{src:p(e)(ea.value.discardCard),class:"tile-img discard-tile"},null,8,J),c("span",K,d(ia(ea.value.discardCard)),1)]),c("div",L,[l[10]||(l[10]=c("span",{class:"action-label keep"},"ç•™",-1)),c("img",{src:p(e)(ea.value.keepCard),class:"tile-img keep-tile"},null,8,N),c("span",O,d(ia(ea.value.keepCard)),1)])])):n("",!0),c("div",{class:v(["efficiency-badge",la.value.isEfficientBreak?"good":"bad"])},d(la.value.isEfficientBreak?"âœ“ é«˜æ•ˆæ‹†æ­":"âœ— ä½Žæ•ˆæ‹†æ­"),3)])])):n("",!0),la.value?(r(),t("details",Q,[l[16]||(l[16]=c("summary",null,"æŸ¥çœ‹è¯¦ç»†æ‹†åˆ†",-1)),c("div",S,[la.value.meldDetails.length>0?(r(),t("div",T,[l[12]||(l[12]=c("div",{class:"detail-label"},"æˆç‰Œ:",-1)),c("div",U,[(r(!0),t(u,null,o(la.value.meldDetails,(a,s)=>(r(),t("span",{key:"m"+s,class:"detail-item meld"},d(ta(a.cards)),1))),128))])])):n("",!0),la.value.pairDetails.length>0?(r(),t("div",V,[l[13]||(l[13]=c("div",{class:"detail-label"},"å¯¹å­:",-1)),c("div",W,[(r(!0),t(u,null,o(la.value.pairDetails,(a,s)=>(r(),t("span",{key:"p"+s,class:"detail-item pair"},d(ta(a.cards)),1))),128))])])):n("",!0),la.value.partnerDetails.length>0?(r(),t("div",X,[l[14]||(l[14]=c("div",{class:"detail-label"},"æ­å­:",-1)),c("div",Y,[(r(!0),t(u,null,o(la.value.partnerDetails,(a,s)=>(r(),t("span",{key:"pt"+s,class:"detail-item partner"},d(ta(a.cards)),1))),128))])])):n("",!0),la.value.singleDetails.length>0?(r(),t("div",Z,[l[15]||(l[15]=c("div",{class:"detail-label"},"å­¤å¼ :",-1)),c("div",aa,[(r(!0),t(u,null,o(la.value.singleDetails,(a,s)=>(r(),t("span",{key:"s"+s,class:"detail-item single"},d(ia(a.card)),1))),128))])])):n("",!0)])])):n("",!0)])])):n("",!0)}}},[["__scopeId","data-v-a14c923a"]]);export{sa as default};
