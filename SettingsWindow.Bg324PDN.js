const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index.y6HLDFeu.js","./vendor.G8ViXyKc.js"])))=>i.map(i=>d[i]);
var e=(e,s,t)=>new Promise((n,l)=>{var a=e=>{try{c(t.next(e))}catch(s){l(s)}},i=e=>{try{c(t.throw(e))}catch(s){l(s)}},c=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,i);c((t=t.apply(e,s)).next())});import{_ as s,a as t,o as n,d as l,f as a,m as i,q as c,r as o}from"./index.y6HLDFeu.js";import{F as r}from"./FloatingWindow.BEls10vb.js";import{c as d,s as v,e as g,v as u,f as p,t as h,u as m,h as b,n as k,g as y,b as f,F as w,m as x}from"./vendor.G8ViXyKc.js";const C={class:"settings-content"},_={class:"level-card"},A={class:"level-icon"},S={class:"level-details"},j={class:"level-title"},I={class:"level-exp"},P={class:"exp-bar"},W={class:"exp-text"},D={class:"achievement-preview"},F={class:"settings-section"},L={class:"quick-links"},O={class:"link-text"},$={class:"settings-section"},q={class:"setting-row"},E={class:"deep-analysis-settings"},R={class:"setting-row"},T={class:"settings-section"},z={class:"setting-row"},G={class:"settings-section"},M={class:"levels-grid"},Q=["checked","onChange"],V={class:"special-sources"},B=["checked"],N={class:"source-count"},H=["checked"],J={class:"source-count"},K={class:"settings-section"},U={class:"dragon-btns"},X=["onClick"],Y={class:"settings-section"},Z={class:"dragon-btns"},ee=["onClick"],se={class:"settings-section"},te={class:"setting-row"},ne=s({__name:"SettingsWindow",props:{visible:{type:Boolean,default:!0}},emits:["close","open-achievements","open-stats","open-easy"],setup(s,{emit:ne}){const le=t(),{currentLevelInfo:ae,achievementProgress:ie}=n(),{autoAnalyze:ce,toggleAutoAnalyze:oe,showQuickInput:re,toggleQuickInput:de}=l(),ve=d(()=>{var e;return(null==(e=le.easyPatterns)?void 0:e.length)||0}),ge=d(()=>le.algorithmSettings.enableOneShanten),ue=()=>e(null,null,function*(){le.toggleOneShanten();const{setAlgorithmSettings:s}=yield o(()=>e(null,null,function*(){const{setAlgorithmSettings:e}=yield import("./index.y6HLDFeu.js").then(e=>e.t);return{setAlgorithmSettings:e}}),__vite__mapDeps([0,1]),import.meta.url),{mahjongWorker:t}=yield o(()=>e(null,null,function*(){const{mahjongWorker:e}=yield import("./index.y6HLDFeu.js").then(e=>e.w);return{mahjongWorker:e}}),__vite__mapDeps([0,1]),import.meta.url),n={enableOneShanten:le.algorithmSettings.enableOneShanten};s(n),t.setSettings(n)}),{addRedDragonCount:pe,addGreenDragonCount:he,togglePatternLevel:me,isPatternLevelSelected:be,setAddRedDragonCount:ke,setAddGreenDragonCount:ye,includeFavorites:fe,includeWrongAnswers:we,toggleIncludeFavorites:xe,toggleIncludeWrongAnswers:Ce}=a(),{favorites:_e}=i(),{themeMode:Ae,toggleTheme:Se}=c(),je=d(()=>_e.value.length),Ie=d(()=>le.wrongAnswers.length),Pe=d(()=>"light"===Ae.value?"â˜€ï¸":"ğŸŒ™"),We=d(()=>"light"===Ae.value?"æµ…è‰²":"æ·±è‰²");return(e,t)=>(g(),v(r,{visible:s.visible,title:"è®¾ç½®",icon:"âš™ï¸",theme:"gray","storage-key":"settings","default-width":280,"default-height":360,"default-x":-1,"default-y":200,"min-width":240,"min-height":280,onClose:t[8]||(t[8]=s=>e.$emit("close"))},{default:u(()=>[p("div",C,[p("div",{class:"settings-section level-section",onClick:t[0]||(t[0]=s=>e.$emit("open-achievements"))},[p("div",_,[p("span",A,h(m(ae).icon),1),p("div",S,[p("div",j,"Lv."+h(m(ae).level)+" "+h(m(ae).title),1),p("div",I,[p("div",P,[p("div",{class:"exp-fill",style:b({width:m(ae).progress+"%"})},null,4)]),p("span",W,h(m(ae).exp)+" / "+h(m(ae).expForNext||"æ»¡çº§"),1)])]),t[9]||(t[9]=p("span",{class:"arrow"},"â€º",-1))]),p("div",D," ğŸ† å·²è§£é” "+h(m(ie).unlocked)+"/"+h(m(ie).total)+" æˆå°± ",1)]),p("div",F,[t[12]||(t[12]=p("div",{class:"section-title"},"ğŸ“‹ å¿«æ·å…¥å£",-1)),p("div",L,[p("button",{onClick:t[1]||(t[1]=s=>e.$emit("open-stats")),class:"quick-link-btn"},t[10]||(t[10]=[p("span",{class:"link-icon"},"ğŸ“Š",-1),p("span",{class:"link-text"},"å­¦ä¹ ç»Ÿè®¡",-1)])),p("button",{onClick:t[2]||(t[2]=s=>e.$emit("open-easy")),class:"quick-link-btn"},[t[11]||(t[11]=p("span",{class:"link-icon"},"âœ…",-1)),p("span",O,"ç®€å•é¢˜ ("+h(ve.value)+")",1)])])]),p("div",$,[t[15]||(t[15]=p("div",{class:"section-title"},"ğŸ” åˆ†æ",-1)),p("div",q,[t[13]||(t[13]=p("span",{class:"setting-label"},"è‡ªåŠ¨åˆ†æ",-1)),p("button",{onClick:t[3]||(t[3]=(...e)=>m(oe)&&m(oe)(...e)),class:k(["toggle-btn",{active:m(ce)}])},h(m(ce)?"å¼€å¯":"å…³é—­"),3)]),p("div",E,[p("div",R,[t[14]||(t[14]=p("span",{class:"setting-label"},[y(" 1å‘å¬æœŸæœ› "),p("span",{class:"setting-hint"},"ä¸¤æ­¥æœŸæœ›")],-1)),p("button",{onClick:ue,class:k(["toggle-btn",{active:ge.value}])},h(ge.value?"å¼€å¯":"å…³é—­"),3)])])]),p("div",T,[t[17]||(t[17]=p("div",{class:"section-title"},"âŒ¨ï¸ å¿«æ·è¾“å…¥",-1)),p("div",z,[t[16]||(t[16]=p("span",{class:"setting-label"},"æ˜¾ç¤ºè¾“å…¥æ¡†",-1)),p("button",{onClick:t[4]||(t[4]=(...e)=>m(de)&&m(de)(...e)),class:k(["toggle-btn",{active:m(re)}])},h(m(re)?"æ˜¾ç¤º":"éšè—"),3)])]),p("div",G,[t[20]||(t[20]=p("div",{class:"section-title"},"ğŸ“ ç»ƒä¹ éš¾åº¦",-1)),p("div",M,[(g(),f(w,null,x([3,4,5,6,7,8],e=>p("label",{key:e,class:k(["level-item",{active:m(be)(e)}])},[p("input",{type:"checkbox",checked:m(be)(e),onChange:s=>m(me)(e)},null,40,Q),p("span",null,h(e)+"å¼ ",1)],2)),64))]),p("div",V,[p("label",{class:k(["source-item",{active:m(fe)}])},[p("input",{type:"checkbox",checked:m(fe),onChange:t[5]||(t[5]=(...e)=>m(xe)&&m(xe)(...e))},null,40,B),t[18]||(t[18]=p("span",null,"â­ æ”¶è—å¤¹",-1)),p("span",N,"("+h(je.value)+")",1)],2),p("label",{class:k(["source-item",{active:m(we)}])},[p("input",{type:"checkbox",checked:m(we),onChange:t[6]||(t[6]=(...e)=>m(Ce)&&m(Ce)(...e))},null,40,H),t[19]||(t[19]=p("span",null,"ğŸ“• é”™é¢˜æœ¬",-1)),p("span",J,"("+h(Ie.value)+")",1)],2)])]),p("div",K,[t[21]||(t[21]=p("div",{class:"section-title"},"ğŸ€„ çº¢ä¸­æ•°é‡",-1)),p("div",U,[(g(),f(w,null,x([0,1,2],e=>p("button",{key:e,onClick:s=>m(ke)(e),class:k(["dragon-btn red",{active:m(pe)===e}])},h(0===e?"æ— ":`+${e}`),11,X)),64))])]),p("div",Y,[t[22]||(t[22]=p("div",{class:"section-title"},"ğŸŸ¢ å‘è´¢æ•°é‡",-1)),p("div",Z,[(g(),f(w,null,x([0,1,2],e=>p("button",{key:e,onClick:s=>m(ye)(e),class:k(["dragon-btn green",{active:m(he)===e}])},h(0===e?"æ— ":`+${e}`),11,ee)),64))])]),p("div",se,[t[24]||(t[24]=p("div",{class:"section-title"},"ğŸ¨ å¤–è§‚",-1)),p("div",te,[t[23]||(t[23]=p("span",{class:"setting-label"},"ä¸»é¢˜",-1)),p("button",{onClick:t[7]||(t[7]=(...e)=>m(Se)&&m(Se)(...e)),class:"theme-btn"},h(Pe.value)+" "+h(We.value),1)])]),t[25]||(t[25]=p("div",{class:"settings-section about-section"},[p("div",{class:"version-info"},[p("span",{class:"app-name"},"ğŸ‰ ä¸¢äº†è¥¿ç“œ-èŠéº»åˆ†æå™¨"),p("span",{class:"version-tag"},"v1.2.0")]),p("div",{class:"copyright"},"Â© 2024 Made with â¤ï¸")],-1))])]),_:1},8,["visible"]))}},[["__scopeId","data-v-bb02741f"]]);export{ne as default};
