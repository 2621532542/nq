import{_ as s,a as e,n as t,d as l,f as a,l as n,o as i}from"./index.D0mN0E-X.js";import{F as c}from"./FloatingWindow.Sno5eSNt.js";import{c as o,o as r,q as d,e as u,s as v,f as g,t as p,u as b,h,b as k,v as m,n as y,F as C,l as f}from"./vendor.BQAVRTmg.js";const w={class:"settings-content"},x={class:"level-card"},P={class:"level-icon"},A={class:"level-details"},D={class:"level-title"},F={class:"level-exp"},I={class:"exp-bar"},$={class:"exp-text"},_={class:"achievement-preview"},q={class:"settings-section"},Q={class:"hourly-settings"},S={class:"setting-row"},H={class:"number-input"},L={class:"num-value"},M={key:0,class:"hourly-progress"},W={class:"progress-bar-mini"},j={class:"progress-text"},G={class:"settings-section"},z={class:"quick-links"},R={class:"link-text"},B={class:"settings-section"},N={class:"setting-row"},T={class:"settings-section"},E={class:"setting-row"},J={class:"settings-section"},K={class:"levels-grid"},O=["checked","onChange"],U={class:"special-sources"},V=["checked"],X={class:"source-count"},Y=["checked"],Z={class:"source-count"},ss={class:"settings-section"},es={class:"dragon-btns"},ts=["onClick"],ls={class:"settings-section"},as={class:"dragon-btns"},ns=["onClick"],is={class:"settings-section"},cs={class:"setting-row"},os=s({__name:"SettingsWindow",props:{visible:{type:Boolean,default:!0}},emits:["close","open-achievements","open-stats","open-easy"],setup(s,{emit:os}){const rs=e(),{currentLevelInfo:ds,achievementProgress:us}=t(),{autoAnalyze:vs,toggleAutoAnalyze:gs,showQuickInput:ps,toggleQuickInput:bs}=l(),hs=o(()=>{var s;return(null==(s=rs.easyPatterns)?void 0:s.length)||0}),ks=()=>{rs.startDiscardPractice()},ms=o(()=>rs.discardPracticeSettings.questionsPerHour),ys=()=>{rs.setQuestionsPerHour(ms.value+10)},Cs=()=>{rs.setQuestionsPerHour(ms.value-10)},fs=o(()=>rs.hourlyProgress),ws=o(()=>fs.value?Math.min(100,Math.round(fs.value.current/fs.value.total*100)):0),{addRedDragonCount:xs,addGreenDragonCount:Ps,togglePatternLevel:As,isPatternLevelSelected:Ds,setAddRedDragonCount:Fs,setAddGreenDragonCount:Is,includeFavorites:$s,includeWrongAnswers:_s,toggleIncludeFavorites:qs,toggleIncludeWrongAnswers:Qs}=a(),{favorites:Ss}=n(),{themeMode:Hs,toggleTheme:Ls}=i(),Ms=o(()=>Ss.value.length),Ws=o(()=>rs.wrongAnswers.length),js=o(()=>"light"===Hs.value?"â˜€ï¸":"ğŸŒ™"),Gs=o(()=>"light"===Hs.value?"æµ…è‰²":"æ·±è‰²");return r(()=>{rs.loadDiscardPracticeSettings(),rs.loadDiscardPracticeStats(),rs.checkAndGenerateHourlyQuestions()}),(e,t)=>(u(),d(c,{visible:s.visible,title:"è®¾ç½®",icon:"âš™ï¸",theme:"gray","storage-key":"settings","default-width":280,"default-height":360,"default-x":-1,"default-y":200,"min-width":240,"min-height":280,onClose:t[8]||(t[8]=s=>e.$emit("close"))},{default:v(()=>[g("div",w,[g("div",{class:"settings-section level-section",onClick:t[0]||(t[0]=s=>e.$emit("open-achievements"))},[g("div",x,[g("span",P,p(b(ds).icon),1),g("div",A,[g("div",D,"Lv."+p(b(ds).level)+" "+p(b(ds).title),1),g("div",F,[g("div",I,[g("div",{class:"exp-fill",style:h({width:b(ds).progress+"%"})},null,4)]),g("span",$,p(b(ds).exp)+" / "+p(b(ds).expForNext||"æ»¡çº§"),1)])]),t[9]||(t[9]=g("span",{class:"arrow"},"â€º",-1))]),g("div",_," ğŸ† å·²è§£é” "+p(b(us).unlocked)+"/"+p(b(us).total)+" æˆå°± ",1)]),g("div",q,[t[13]||(t[13]=g("div",{class:"section-title"},"ğŸ¯ ç»ƒä¹ æ¨¡å¼",-1)),g("button",{onClick:ks,class:"practice-entry-btn"},t[10]||(t[10]=[g("span",{class:"btn-icon"},"ğŸ¯",-1),g("span",{class:"btn-text"},"èˆç‰Œç»ƒä¹ ",-1),g("span",{class:"btn-desc"},"å¯æ‹†ç‰Œ + é€‰æ‹©æœ€ä¼˜",-1)])),g("div",Q,[g("div",S,[t[11]||(t[11]=g("span",{class:"setting-label"},"æ•´ç‚¹é¢˜ç›®æ•°é‡",-1)),g("div",H,[g("button",{onClick:Cs,class:"num-btn"},"-"),g("span",L,p(ms.value),1),g("button",{onClick:ys,class:"num-btn"},"+")])]),fs.value?(u(),k("div",M,[t[12]||(t[12]=g("span",{class:"progress-label"},"å½“å‰æ•´ç‚¹è¿›åº¦:",-1)),g("div",W,[g("div",{class:y(["progress-fill-mini",{completed:fs.value.completed}]),style:h({width:ws.value+"%"})},null,6)]),g("span",j,p(fs.value.current)+"/"+p(fs.value.total),1)])):m("",!0)])]),g("div",G,[t[16]||(t[16]=g("div",{class:"section-title"},"ğŸ“‹ å¿«æ·å…¥å£",-1)),g("div",z,[g("button",{onClick:t[1]||(t[1]=s=>e.$emit("open-stats")),class:"quick-link-btn"},t[14]||(t[14]=[g("span",{class:"link-icon"},"ğŸ“Š",-1),g("span",{class:"link-text"},"å­¦ä¹ ç»Ÿè®¡",-1)])),g("button",{onClick:t[2]||(t[2]=s=>e.$emit("open-easy")),class:"quick-link-btn"},[t[15]||(t[15]=g("span",{class:"link-icon"},"âœ…",-1)),g("span",R,"ç®€å•é¢˜ ("+p(hs.value)+")",1)])])]),g("div",B,[t[18]||(t[18]=g("div",{class:"section-title"},"ğŸ” åˆ†æ",-1)),g("div",N,[t[17]||(t[17]=g("span",{class:"setting-label"},"è‡ªåŠ¨åˆ†æ",-1)),g("button",{onClick:t[3]||(t[3]=(...s)=>b(gs)&&b(gs)(...s)),class:y(["toggle-btn",{active:b(vs)}])},p(b(vs)?"å¼€å¯":"å…³é—­"),3)])]),g("div",T,[t[20]||(t[20]=g("div",{class:"section-title"},"âŒ¨ï¸ å¿«æ·è¾“å…¥",-1)),g("div",E,[t[19]||(t[19]=g("span",{class:"setting-label"},"æ˜¾ç¤ºè¾“å…¥æ¡†",-1)),g("button",{onClick:t[4]||(t[4]=(...s)=>b(bs)&&b(bs)(...s)),class:y(["toggle-btn",{active:b(ps)}])},p(b(ps)?"æ˜¾ç¤º":"éšè—"),3)])]),g("div",J,[t[23]||(t[23]=g("div",{class:"section-title"},"ğŸ“ ç»ƒä¹ éš¾åº¦",-1)),g("div",K,[(u(),k(C,null,f([3,4,5,6,7,8],s=>g("label",{key:s,class:y(["level-item",{active:b(Ds)(s)}])},[g("input",{type:"checkbox",checked:b(Ds)(s),onChange:e=>b(As)(s)},null,40,O),g("span",null,p(s)+"å¼ ",1)],2)),64))]),g("div",U,[g("label",{class:y(["source-item",{active:b($s)}])},[g("input",{type:"checkbox",checked:b($s),onChange:t[5]||(t[5]=(...s)=>b(qs)&&b(qs)(...s))},null,40,V),t[21]||(t[21]=g("span",null,"â­ æ”¶è—å¤¹",-1)),g("span",X,"("+p(Ms.value)+")",1)],2),g("label",{class:y(["source-item",{active:b(_s)}])},[g("input",{type:"checkbox",checked:b(_s),onChange:t[6]||(t[6]=(...s)=>b(Qs)&&b(Qs)(...s))},null,40,Y),t[22]||(t[22]=g("span",null,"ğŸ“• é”™é¢˜æœ¬",-1)),g("span",Z,"("+p(Ws.value)+")",1)],2)])]),g("div",ss,[t[24]||(t[24]=g("div",{class:"section-title"},"ğŸ€„ çº¢ä¸­æ•°é‡",-1)),g("div",es,[(u(),k(C,null,f([0,1,2],s=>g("button",{key:s,onClick:e=>b(Fs)(s),class:y(["dragon-btn red",{active:b(xs)===s}])},p(0===s?"æ— ":`+${s}`),11,ts)),64))])]),g("div",ls,[t[25]||(t[25]=g("div",{class:"section-title"},"ğŸŸ¢ å‘è´¢æ•°é‡",-1)),g("div",as,[(u(),k(C,null,f([0,1,2],s=>g("button",{key:s,onClick:e=>b(Is)(s),class:y(["dragon-btn green",{active:b(Ps)===s}])},p(0===s?"æ— ":`+${s}`),11,ns)),64))])]),g("div",is,[t[27]||(t[27]=g("div",{class:"section-title"},"ğŸ¨ å¤–è§‚",-1)),g("div",cs,[t[26]||(t[26]=g("span",{class:"setting-label"},"ä¸»é¢˜",-1)),g("button",{onClick:t[7]||(t[7]=(...s)=>b(Ls)&&b(Ls)(...s)),class:"theme-btn"},p(js.value)+" "+p(Gs.value),1)])]),t[28]||(t[28]=g("div",{class:"settings-section about-section"},[g("div",{class:"version-info"},[g("span",{class:"app-name"},"ğŸ€„ çº¢ä¸­éº»å°†å¬ç‰Œåˆ†æå™¨"),g("span",{class:"version-tag"},"v1.2.0")]),g("div",{class:"copyright"},"Â© 2024 Made with â¤ï¸")],-1))])]),_:1},8,["visible"]))}},[["__scopeId","data-v-7c841f8b"]]);export{os as default};
